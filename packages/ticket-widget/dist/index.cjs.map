{"version":3,"sources":["../src/context.tsx","../src/utils.ts","../src/TicketForm.tsx","../src/TicketButton.tsx","../src/TicketTracker.tsx"],"names":["createContext","useContext","useState","jsx","jsxs","Fragment","useEffect"],"mappings":"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","file":"index.cjs","sourcesContent":["import { createContext, useContext, type ReactNode } from \"react\";\nimport type { TicketWidgetConfig } from \"./types\";\n\nconst TicketContext = createContext<TicketWidgetConfig | null>(null);\n\nexport function useTicketConfig(): TicketWidgetConfig {\n  const ctx = useContext(TicketContext);\n  if (!ctx) {\n    throw new Error(\"useTicketConfig must be used within a <TicketProvider>\");\n  }\n  return ctx;\n}\n\nexport function TicketProvider({\n  config,\n  children,\n}: {\n  config: TicketWidgetConfig;\n  children: ReactNode;\n}) {\n  return (\n    <TicketContext.Provider value={config}>{children}</TicketContext.Provider>\n  );\n}\n","/**\n * Auto-capture environment information from the browser.\n */\nexport function captureEnvironment(): {\n  browserInfo: string;\n  osInfo: string;\n  route: string;\n} {\n  if (typeof window === \"undefined\") {\n    return { browserInfo: \"server\", osInfo: \"server\", route: \"/\" };\n  }\n\n  const ua = navigator.userAgent;\n  const platform = navigator.platform ?? \"unknown\";\n\n  // Simple browser detection\n  let browser = \"unknown\";\n  if (ua.includes(\"Chrome\") && !ua.includes(\"Edg\")) browser = \"Chrome\";\n  else if (ua.includes(\"Safari\") && !ua.includes(\"Chrome\")) browser = \"Safari\";\n  else if (ua.includes(\"Firefox\")) browser = \"Firefox\";\n  else if (ua.includes(\"Edg\")) browser = \"Edge\";\n\n  // Simple OS detection\n  let os = platform;\n  if (ua.includes(\"Windows\")) os = \"Windows\";\n  else if (ua.includes(\"Mac\")) os = \"macOS\";\n  else if (ua.includes(\"Linux\")) os = \"Linux\";\n  else if (ua.includes(\"iPhone\") || ua.includes(\"iPad\")) os = \"iOS\";\n  else if (ua.includes(\"Android\")) os = \"Android\";\n\n  return {\n    browserInfo: `${browser} (${ua.slice(0, 100)})`,\n    osInfo: os,\n    route: window.location.pathname,\n  };\n}\n\n/**\n * Generate an idempotent client reference ID.\n */\nexport function generateClientRefId(): string {\n  return `tw-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;\n}\n\n/**\n * Make an API call to the Matrx Ship instance.\n */\nexport async function apiCall<T>(\n  baseUrl: string,\n  path: string,\n  options: {\n    method?: string;\n    body?: unknown;\n    reporterToken?: string;\n  } = {},\n): Promise<T> {\n  const url = `${baseUrl.replace(/\\/$/, \"\")}${path}`;\n  const headers: Record<string, string> = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (options.reporterToken) {\n    headers[\"X-Reporter-Token\"] = options.reporterToken;\n  }\n\n  const res = await fetch(url, {\n    method: options.method ?? \"GET\",\n    headers,\n    body: options.body ? JSON.stringify(options.body) : undefined,\n  });\n\n  if (!res.ok) {\n    const errData = await res.json().catch(() => ({ error: \"Request failed\" }));\n    throw new Error(errData.error ?? `HTTP ${res.status}`);\n  }\n\n  return res.json();\n}\n","import { useState, type FormEvent } from \"react\";\nimport { useTicketConfig } from \"./context\";\nimport { apiCall, captureEnvironment, generateClientRefId } from \"./utils\";\nimport type { TicketResponse, TicketSubmission } from \"./types\";\n\nexport interface TicketFormProps {\n  /** Called after successful submission */\n  onSubmitted?: (ticket: TicketResponse) => void;\n  /** Called on close/cancel */\n  onClose?: () => void;\n  /** Default ticket type */\n  defaultType?: string;\n  /** CSS class name */\n  className?: string;\n}\n\nconst TYPES = [\n  { value: \"bug\", label: \"Bug\" },\n  { value: \"feature\", label: \"Feature\" },\n  { value: \"suggestion\", label: \"Suggestion\" },\n  { value: \"task\", label: \"Task\" },\n  { value: \"enhancement\", label: \"Enhancement\" },\n];\n\nexport function TicketForm({\n  onSubmitted,\n  onClose,\n  defaultType,\n  className,\n}: TicketFormProps) {\n  const config = useTicketConfig();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [type, setType] = useState(defaultType ?? config.defaultType ?? \"bug\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<TicketResponse | null>(null);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!title.trim() || !description.trim()) {\n      setError(\"Title and description are required.\");\n      return;\n    }\n\n    setSubmitting(true);\n    setError(null);\n\n    try {\n      const env = captureEnvironment();\n      const payload: TicketSubmission = {\n        title,\n        description,\n        ticket_type: type,\n        route: env.route,\n        browser_info: env.browserInfo,\n        os_info: env.osInfo,\n        reporter_id: config.reporterId ?? config.reporterEmail,\n        reporter_name: config.reporterName,\n        reporter_email: config.reporterEmail,\n        project_id: config.projectId ?? \"default\",\n        source: \"sdk\",\n        client_reference_id: generateClientRefId(),\n      };\n\n      const result = await apiCall<TicketResponse>(\n        config.baseUrl,\n        \"/api/tickets/submit\",\n        {\n          method: \"POST\",\n          body: payload,\n          reporterToken: config.reporterToken,\n        },\n      );\n\n      setSuccess(result);\n      onSubmitted?.(result);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Submission failed\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <div className={`mtw-form ${className ?? \"\"}`} data-theme={config.theme}>\n        <div className=\"mtw-success\">\n          <div className=\"mtw-success-icon\">✓</div>\n          <h3 className=\"mtw-success-title\">Ticket Submitted!</h3>\n          <p className=\"mtw-success-number\">T-{success.ticket_number}</p>\n          <p className=\"mtw-success-text\">\n            We&apos;ll get back to you as soon as possible.\n          </p>\n          <button className=\"mtw-btn mtw-btn-primary\" onClick={onClose}>\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <form\n      className={`mtw-form ${className ?? \"\"}`}\n      data-theme={config.theme}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"mtw-form-header\">\n        <h3 className=\"mtw-form-title\">Submit a Ticket</h3>\n        {onClose && (\n          <button type=\"button\" className=\"mtw-form-close\" onClick={onClose}>\n            ×\n          </button>\n        )}\n      </div>\n\n      {error && <div className=\"mtw-error\">{error}</div>}\n\n      <div className=\"mtw-field\">\n        <label className=\"mtw-label\">Type</label>\n        <select\n          className=\"mtw-select\"\n          value={type}\n          onChange={(e) => setType(e.target.value)}\n        >\n          {TYPES.map((t) => (\n            <option key={t.value} value={t.value}>\n              {t.label}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"mtw-field\">\n        <label className=\"mtw-label\">Title *</label>\n        <input\n          className=\"mtw-input\"\n          type=\"text\"\n          placeholder=\"Brief summary\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n      </div>\n\n      <div className=\"mtw-field\">\n        <label className=\"mtw-label\">Description *</label>\n        <textarea\n          className=\"mtw-textarea\"\n          placeholder=\"Provide details...\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          rows={4}\n          required\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"mtw-btn mtw-btn-primary\"\n        disabled={submitting}\n      >\n        {submitting ? \"Submitting...\" : \"Submit\"}\n      </button>\n    </form>\n  );\n}\n","import { useState } from \"react\";\nimport { useTicketConfig } from \"./context\";\nimport { TicketForm } from \"./TicketForm\";\n\nexport interface TicketButtonProps {\n  /** Position of the floating button */\n  position?: \"bottom-right\" | \"bottom-left\";\n  /** Custom label text */\n  label?: string;\n  /** CSS class name for the button */\n  className?: string;\n}\n\nexport function TicketButton({\n  position = \"bottom-right\",\n  label,\n  className,\n}: TicketButtonProps) {\n  const config = useTicketConfig();\n  const [open, setOpen] = useState(false);\n\n  const positionClass =\n    position === \"bottom-left\" ? \"mtw-pos-bl\" : \"mtw-pos-br\";\n\n  return (\n    <>\n      {/* Floating button */}\n      <button\n        className={`mtw-fab ${positionClass} ${className ?? \"\"}`}\n        data-theme={config.theme}\n        style={{ zIndex: config.zIndex ?? 9999 }}\n        onClick={() => setOpen(true)}\n        aria-label=\"Report an issue\"\n      >\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"M8 2v4\" />\n          <path d=\"M16 2v4\" />\n          <rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\" />\n          <path d=\"M3 10h18\" />\n          <path d=\"m9 16 2 2 4-4\" />\n        </svg>\n        {label && <span className=\"mtw-fab-label\">{label}</span>}\n      </button>\n\n      {/* Form overlay */}\n      {open && (\n        <div\n          className=\"mtw-overlay\"\n          data-theme={config.theme}\n          style={{ zIndex: (config.zIndex ?? 9999) + 1 }}\n        >\n          <div className={`mtw-panel ${positionClass}`}>\n            <TicketForm\n              onClose={() => setOpen(false)}\n              onSubmitted={() => {\n                // Keep the success state visible; onClose handles dismissal\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { useTicketConfig } from \"./context\";\nimport { apiCall } from \"./utils\";\nimport type { TimelineEntry } from \"./types\";\n\nexport interface TicketTrackerProps {\n  /** Ticket number (the T-XXX number) to track */\n  ticketNumber: number;\n  /** CSS class name */\n  className?: string;\n}\n\ninterface TicketData {\n  id: string;\n  ticketNumber: number;\n  title: string;\n  status: string;\n  ticketType: string;\n  createdAt: string;\n}\n\nconst STEPS = [\n  { label: \"Submitted\", statuses: [\"new\"] },\n  { label: \"Reviewing\", statuses: [\"triaged\", \"approved\", \"in_progress\"] },\n  { label: \"Testing\", statuses: [\"in_review\"] },\n  { label: \"Your Feedback\", statuses: [\"user_review\"] },\n  { label: \"Resolved\", statuses: [\"resolved\", \"closed\"] },\n];\n\nexport function TicketTracker({ ticketNumber, className }: TicketTrackerProps) {\n  const config = useTicketConfig();\n  const [ticket, setTicket] = useState<TicketData | null>(null);\n  const [timeline, setTimeline] = useState<TimelineEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const reporterParam = config.reporterId\n          ? `&reporter_id=${encodeURIComponent(config.reporterId)}`\n          : \"\";\n\n        const listData = await apiCall<{ tickets: TicketData[] }>(\n          config.baseUrl,\n          `/api/tickets?sort=ticket_number&limit=100${reporterParam}`,\n          { reporterToken: config.reporterToken },\n        );\n\n        const found = listData.tickets.find(\n          (t) => t.ticketNumber === ticketNumber,\n        );\n\n        if (!found) {\n          setError(`Ticket T-${ticketNumber} not found.`);\n          return;\n        }\n\n        setTicket(found);\n\n        // Fetch user-visible timeline\n        try {\n          const tlData = await apiCall<{ timeline: TimelineEntry[] }>(\n            config.baseUrl,\n            `/api/tickets/${found.id}/timeline?visibility=user_visible${reporterParam}`,\n            { reporterToken: config.reporterToken },\n          );\n          setTimeline(tlData.timeline ?? []);\n        } catch {\n          // non-critical\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Failed to load\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    load();\n  }, [ticketNumber, config.baseUrl, config.reporterToken, config.reporterId]);\n\n  if (loading) {\n    return (\n      <div className={`mtw-tracker ${className ?? \"\"}`} data-theme={config.theme}>\n        <div className=\"mtw-loading\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`mtw-tracker ${className ?? \"\"}`} data-theme={config.theme}>\n        <div className=\"mtw-error\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!ticket) return null;\n\n  const currentIdx = STEPS.findIndex((s) => s.statuses.includes(ticket.status));\n  const stepIdx = currentIdx >= 0 ? currentIdx : 0;\n\n  return (\n    <div className={`mtw-tracker ${className ?? \"\"}`} data-theme={config.theme}>\n      <div className=\"mtw-tracker-header\">\n        <span className=\"mtw-ticket-number\">T-{ticket.ticketNumber}</span>\n        <span className=\"mtw-ticket-title\">{ticket.title}</span>\n      </div>\n\n      {/* Progress stepper */}\n      <div className=\"mtw-stepper\">\n        {STEPS.map((step, i) => (\n          <div\n            key={step.label}\n            className={`mtw-step ${i <= stepIdx ? \"mtw-step-done\" : \"\"} ${i === stepIdx ? \"mtw-step-active\" : \"\"}`}\n          >\n            <div className=\"mtw-step-dot\" />\n            <span className=\"mtw-step-label\">{step.label}</span>\n          </div>\n        ))}\n      </div>\n\n      {/* Timeline */}\n      {timeline.length > 0 && (\n        <div className=\"mtw-timeline\">\n          <h4 className=\"mtw-timeline-title\">Updates</h4>\n          {timeline.map((entry) => (\n            <div key={entry.id} className=\"mtw-timeline-entry\">\n              <div className=\"mtw-timeline-meta\">\n                <span className=\"mtw-timeline-author\">\n                  {entry.authorName ?? entry.authorType}\n                </span>\n                <span className=\"mtw-timeline-time\">\n                  {new Date(entry.createdAt).toLocaleDateString()}\n                </span>\n              </div>\n              {entry.content && (\n                <p className=\"mtw-timeline-content\">{entry.content}</p>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"]}